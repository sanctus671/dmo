(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"3Zaj":function(l,n,u){"use strict";u.d(n,"a",function(){return r});var t=u("AytR"),e=u("wd/R"),i=u("8Y7J"),o=u("IheW"),a=u("xgBC");let r=(()=>{class l{constructor(l,n){this.http=l,this.storage=n}getDjs(l){return new Promise((n,u)=>{this.storage.get("dmo_token").then(e=>{e?this.http.get(t.a.apiUrl+"/djs?token="+e+"&search="+l).subscribe(l=>{n(l)},l=>{u(l)}):u()})})}getDj(l){return new Promise((n,u)=>{this.storage.get("dmo_token").then(i=>{i?this.http.get(t.a.apiUrl+"/djs/"+l+"?token="+i+"&user_date="+e().format("YYYY-MM-DD HH:mm")).subscribe(l=>{n(l)},l=>{u(l)}):u()})})}createDj(l){return new Promise((n,u)=>{this.storage.get("dmo_token").then(e=>{e?this.http.post(t.a.apiUrl+"/djs?token="+e,l).subscribe(l=>{n(l)},l=>{u(l)}):u()})})}updateDj(l){return new Promise((n,u)=>{this.storage.get("dmo_token").then(e=>{e?this.http.put(t.a.apiUrl+"/djs/"+l.id+"?token="+e,l).subscribe(l=>{n(l)},l=>{u(l)}):u()})})}}return l.ngInjectableDef=i.Qb({factory:function(){return new l(i.Rb(o.c),i.Rb(a.b))},token:l,providedIn:"root"}),l})()},iAdx:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J"),e=u("ZZ/e"),i=u("Pn9U"),o=u("gRf5"),a=u("AytR"),r=u("ri4K"),b=u("3Zaj");class s{constructor(l,n,u,t,e,i,o,a,r){this.router=l,this.transfer=n,this.camera=u,this.loadingController=t,this.alertController=e,this.modalController=i,this.djService=o,this.navController=a,this.authenticationService=r,this.dj={social_media_raw:{}},this.socialMedia=["Soundcloud","Instagram","Spotify"]}ngOnInit(){}changeImage(){this.camera.getPicture({sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then(l=>{let n;this.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e3}).then(l=>{n=l,l.present()});const u=this.transfer.create();let t={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};u.upload(l,encodeURI(a.a.apiUrl+"/upload"),t).then(l=>{this.dj.image=l.response,n.dismiss()},l=>{this.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(l),buttons:[{text:"Dismiss",role:"cancel"}]}).then(l=>{l.present()}),n.dismiss()})},l=>{})}apply(){this.dj.loading=!0,this.dj.social_media=JSON.stringify(this.dj.social_media_raw),this.djService.createDj(this.dj).then(l=>{console.log(l),this.dj.loading=!1,this.alertController.create({header:"Application Sent!",subHeader:"Your application has successfully been submitted",message:"You will be notified when your application has been approved. You can view the status of your application any time by going to DJ Profile in the sidemenu.",buttons:[{text:"OK",role:"cancel"}]}).then(n=>{n.present(),n.onDidDismiss().then(()=>{this.authenticationService.retreiveUserData().then(()=>{}),this.navController.pop().then(()=>{this.navController.navigateForward(["dj/"+l.id])})})})}).catch(l=>{this.dj.loading=!1,this.alertController.create({header:"Error",subHeader:"There was a problem applying to list your DJ profile",message:JSON.stringify(l),buttons:[{text:"Dismiss",role:"cancel"}]}).then(l=>{l.present()})})}}class c{}var d=u("pMnS"),g=u("oBZk"),p=u("s7LF"),h=u("SVse"),m=u("iInd"),f=t.pb({encapsulation:0,styles:[[".dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;height:20px;padding:10px;border-radius:20px;background-color:#000;color:#fff;margin-bottom:5px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin-bottom:5px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:15px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__social-media[_ngcontent-%COMP%]{margin-top:20px}"]],data:{}});function j(l){return t.Nb(0,[(l()(),t.rb(0,0,null,null,1,"ion-icon",[["name","musical-notes"]],null,null,null,g.ab,g.o)),t.qb(1,49152,null,0,e.C,[t.h,t.k,t.x],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"musical-notes")},null)}function C(l){return t.Nb(0,[(l()(),t.rb(0,0,null,null,2,"ion-avatar",[["item-start",""]],null,null,null,g.N,g.b)),t.qb(1,49152,null,0,e.f,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,2,0,n.component.dj.image)})}function _(l){return t.Nb(0,[(l()(),t.rb(0,0,null,null,11,"ion-item",[],null,null,null,g.cb,g.q)),t.qb(1,49152,null,0,e.H,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,g.db,g.r)),t.qb(3,49152,null,0,e.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(l()(),t.Lb(4,0,["",""])),(l()(),t.rb(5,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==t.Db(l,6)._handleBlurEvent()&&e),"ionChange"===n&&(e=!1!==t.Db(l,6)._handleInputEvent(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.dj.social_media_raw[l.context.$implicit]=u)&&e),e},g.bb,g.p)),t.qb(6,16384,null,0,e.Pb,[t.k],null,null),t.Ib(1024,null,p.e,function(l){return[l]},[e.Pb]),t.qb(8,671744,null,0,p.j,[[8,null],[8,null],[8,null],[6,p.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Ib(2048,null,p.f,null,[p.j]),t.qb(10,16384,null,0,p.g,[[4,p.f]],null,null),t.qb(11,49152,null,0,e.G,[t.h,t.k,t.x],{clearInput:[0,"clearInput"],type:[1,"type"]},null)],function(l,n){var u=n.component;l(n,3,0,"floating"),l(n,8,0,u.dj.social_media_raw[n.context.$implicit]),l(n,11,0,"","text")},function(l,n){l(n,4,0,n.context.$implicit),l(n,5,0,t.Db(n,10).ngClassUntouched,t.Db(n,10).ngClassTouched,t.Db(n,10).ngClassPristine,t.Db(n,10).ngClassDirty,t.Db(n,10).ngClassValid,t.Db(n,10).ngClassInvalid,t.Db(n,10).ngClassPending)})}function D(l){return t.Nb(0,[(l()(),t.rb(0,0,null,null,1,"p",[["class","signup__form__error"]],null,null,null,null,null)),(l()(),t.Lb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.dj.error)})}function k(l){return t.Nb(0,[(l()(),t.rb(0,0,null,null,1,"ion-icon",[["name","arrow-forward"]],null,null,null,g.ab,g.o)),t.qb(1,49152,null,0,e.C,[t.h,t.k,t.x],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"arrow-forward")},null)}function x(l){return t.Nb(0,[(l()(),t.rb(0,0,null,null,1,"ion-spinner",[],null,null,null,g.pb,g.D)),t.qb(1,49152,null,0,e.rb,[t.h,t.k,t.x],null,null)],null,null)}function v(l){return t.Nb(0,[(l()(),t.rb(0,0,null,null,13,"ion-header",[],null,null,null,g.Z,g.n)),t.qb(1,49152,null,0,e.B,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,g.xb,g.L)),t.qb(3,49152,null,0,e.Bb,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.rb(4,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,g.Q,g.e)),t.qb(5,49152,null,0,e.l,[t.h,t.k,t.x],null,null),(l()(),t.rb(6,0,null,0,4,"ion-button",[],null,null,null,g.P,g.d)),t.qb(7,49152,null,0,e.k,[t.h,t.k,t.x],null,null),(l()(),t.rb(8,0,null,0,2,"ion-back-button",[["defaultHref","/tabs/home"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Db(l,10).onClick(u)&&e),e},g.O,g.c)),t.qb(9,49152,null,0,e.g,[t.h,t.k,t.x],{defaultHref:[0,"defaultHref"]},null),t.qb(10,16384,null,0,e.h,[[2,e.hb],e.Ib],{defaultHref:[0,"defaultHref"]},null),(l()(),t.rb(11,0,null,0,2,"ion-title",[],null,null,null,g.vb,g.J)),t.qb(12,49152,null,0,e.zb,[t.h,t.k,t.x],null,null),(l()(),t.Lb(-1,0,["List DJ Profile"])),(l()(),t.rb(14,0,null,null,57,"ion-content",[["class","dj-application"]],null,null,null,g.V,g.j)),t.qb(15,49152,null,0,e.u,[t.h,t.k,t.x],null,null),(l()(),t.rb(16,0,null,0,55,"ion-list",[["class","dj-application__form"]],null,null,null,g.fb,g.s)),t.qb(17,49152,null,0,e.O,[t.h,t.k,t.x],null,null),(l()(),t.rb(18,0,null,0,11,"ion-item",[],null,null,null,g.cb,g.q)),t.qb(19,49152,null,0,e.H,[t.h,t.k,t.x],null,null),(l()(),t.rb(20,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,g.db,g.r)),t.qb(21,49152,null,0,e.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(l()(),t.Lb(-1,0,["Name"])),(l()(),t.rb(23,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==t.Db(l,24)._handleBlurEvent()&&e),"ionChange"===n&&(e=!1!==t.Db(l,24)._handleInputEvent(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.dj.name=u)&&e),e},g.bb,g.p)),t.qb(24,16384,null,0,e.Pb,[t.k],null,null),t.Ib(1024,null,p.e,function(l){return[l]},[e.Pb]),t.qb(26,671744,null,0,p.j,[[8,null],[8,null],[8,null],[6,p.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Ib(2048,null,p.f,null,[p.j]),t.qb(28,16384,null,0,p.g,[[4,p.f]],null,null),t.qb(29,49152,null,0,e.G,[t.h,t.k,t.x],{clearInput:[0,"clearInput"],type:[1,"type"]},null),(l()(),t.rb(30,0,null,0,11,"ion-item",[],null,null,null,g.cb,g.q)),t.qb(31,49152,null,0,e.H,[t.h,t.k,t.x],null,null),(l()(),t.rb(32,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,g.db,g.r)),t.qb(33,49152,null,0,e.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(l()(),t.Lb(-1,0,["Subtitle"])),(l()(),t.rb(35,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==t.Db(l,36)._handleBlurEvent()&&e),"ionChange"===n&&(e=!1!==t.Db(l,36)._handleInputEvent(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.dj.subtitle=u)&&e),e},g.bb,g.p)),t.qb(36,16384,null,0,e.Pb,[t.k],null,null),t.Ib(1024,null,p.e,function(l){return[l]},[e.Pb]),t.qb(38,671744,null,0,p.j,[[8,null],[8,null],[8,null],[6,p.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Ib(2048,null,p.f,null,[p.j]),t.qb(40,16384,null,0,p.g,[[4,p.f]],null,null),t.qb(41,49152,null,0,e.G,[t.h,t.k,t.x],{clearInput:[0,"clearInput"],type:[1,"type"]},null),(l()(),t.rb(42,0,null,0,8,"ion-item",[["class","dj-application__form__avatar"]],null,null,null,g.cb,g.q)),t.qb(43,49152,null,0,e.H,[t.h,t.k,t.x],null,null),(l()(),t.gb(16777216,null,0,1,null,j)),t.qb(45,16384,null,0,h.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,C)),t.qb(47,16384,null,0,h.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(48,0,null,0,2,"ion-button",[["color","primary"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.changeImage()&&t),t},g.P,g.d)),t.qb(49,49152,null,0,e.k,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Lb(-1,0,["Select Photo"])),(l()(),t.rb(51,0,null,0,11,"ion-item",[],null,null,null,g.cb,g.q)),t.qb(52,49152,null,0,e.H,[t.h,t.k,t.x],null,null),(l()(),t.rb(53,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,g.db,g.r)),t.qb(54,49152,null,0,e.N,[t.h,t.k,t.x],{position:[0,"position"]},null),(l()(),t.Lb(-1,0,["About You"])),(l()(),t.rb(56,0,null,0,6,"ion-textarea",[["autosize",""],["clearInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==t.Db(l,57)._handleBlurEvent()&&e),"ionChange"===n&&(e=!1!==t.Db(l,57)._handleInputEvent(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.dj.description=u)&&e),e},g.ub,g.I)),t.qb(57,16384,null,0,e.Pb,[t.k],null,null),t.Ib(1024,null,p.e,function(l){return[l]},[e.Pb]),t.qb(59,671744,null,0,p.j,[[8,null],[8,null],[8,null],[6,p.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Ib(2048,null,p.f,null,[p.j]),t.qb(61,16384,null,0,p.g,[[4,p.f]],null,null),t.qb(62,49152,null,0,e.xb,[t.h,t.k,t.x],null,null),(l()(),t.rb(63,0,null,0,4,"ion-list-header",[["class","dj-application__form__social-media"]],null,null,null,g.eb,g.t)),t.qb(64,49152,null,0,e.P,[t.h,t.k,t.x],null,null),(l()(),t.rb(65,0,null,0,2,"ion-label",[],null,null,null,g.db,g.r)),t.qb(66,49152,null,0,e.N,[t.h,t.k,t.x],null,null),(l()(),t.Lb(-1,0,["Social Media (optional)"])),(l()(),t.gb(16777216,null,0,1,null,_)),t.qb(69,278528,null,0,h.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.gb(16777216,null,0,1,null,D)),t.qb(71,16384,null,0,h.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(72,0,null,null,8,"ion-footer",[["class","signup-footer"]],null,null,null,g.Y,g.m)),t.qb(73,49152,null,0,e.z,[t.h,t.k,t.x],null,null),(l()(),t.rb(74,0,null,0,6,"ion-button",[["class","signup-footer__button"],["color","primary"],["expand","full"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.apply()&&t),t},g.P,g.d)),t.qb(75,49152,null,0,e.k,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"]},null),(l()(),t.Lb(-1,0,[" Apply Now\xa0\xa0 "])),(l()(),t.gb(16777216,null,0,1,null,k)),t.qb(78,16384,null,0,h.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,x)),t.qb(80,16384,null,0,h.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,3,0,"primary"),l(n,9,0,"/tabs/home"),l(n,10,0,"/tabs/home"),l(n,21,0,"floating"),l(n,26,0,u.dj.name),l(n,29,0,"","text"),l(n,33,0,"floating"),l(n,38,0,u.dj.subtitle),l(n,41,0,"","text"),l(n,45,0,!u.dj.image),l(n,47,0,u.dj.image),l(n,49,0,"primary"),l(n,54,0,"floating"),l(n,59,0,u.dj.description),l(n,69,0,u.socialMedia),l(n,71,0,u.dj.error),l(n,75,0,"primary",u.dj.loading||!u.dj.name,"full"),l(n,78,0,!u.dj.loading),l(n,80,0,u.dj.loading)},function(l,n){l(n,23,0,t.Db(n,28).ngClassUntouched,t.Db(n,28).ngClassTouched,t.Db(n,28).ngClassPristine,t.Db(n,28).ngClassDirty,t.Db(n,28).ngClassValid,t.Db(n,28).ngClassInvalid,t.Db(n,28).ngClassPending),l(n,35,0,t.Db(n,40).ngClassUntouched,t.Db(n,40).ngClassTouched,t.Db(n,40).ngClassPristine,t.Db(n,40).ngClassDirty,t.Db(n,40).ngClassValid,t.Db(n,40).ngClassInvalid,t.Db(n,40).ngClassPending),l(n,56,0,t.Db(n,61).ngClassUntouched,t.Db(n,61).ngClassTouched,t.Db(n,61).ngClassPristine,t.Db(n,61).ngClassDirty,t.Db(n,61).ngClassValid,t.Db(n,61).ngClassInvalid,t.Db(n,61).ngClassPending)})}function q(l){return t.Nb(0,[(l()(),t.rb(0,0,null,null,1,"app-dj-application",[],null,null,null,v,f)),t.qb(1,114688,null,0,s,[m.n,o.a,i.a,e.Fb,e.a,e.Hb,b.a,e.Ib,r.a],null,null)],function(l,n){l(n,1,0)},null)}var y=t.nb("app-dj-application",s,q,{},{},[]);u.d(n,"DjApplicationPageModuleNgFactory",function(){return I});var I=t.ob(c,[],function(l){return t.Ab([t.Bb(512,t.j,t.Z,[[8,[d.a,y]],[3,t.j],t.v]),t.Bb(4608,h.l,h.k,[t.s,[2,h.w]]),t.Bb(4608,p.l,p.l,[]),t.Bb(4608,e.b,e.b,[t.x,t.g]),t.Bb(4608,e.Hb,e.Hb,[e.b,t.j,t.p]),t.Bb(4608,e.Lb,e.Lb,[e.b,t.j,t.p]),t.Bb(1073742336,h.b,h.b,[]),t.Bb(1073742336,p.k,p.k,[]),t.Bb(1073742336,p.d,p.d,[]),t.Bb(1073742336,e.Db,e.Db,[]),t.Bb(1073742336,m.q,m.q,[[2,m.v],[2,m.n]]),t.Bb(1073742336,c,c,[]),t.Bb(1024,m.l,function(){return[[{path:"",component:s}]]},[])])})}}]);