(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"9FoL":function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=u("zA0m"),o=u("p67C"),r=u("wd/R"),a=function(){function l(l,n){this.barcodeScanner=l,this.dealService=n,this.result="",this.user={},this.deal={},this.claimedDeal={}}return l.prototype.ngOnInit=function(){},l.prototype.scanCode=function(){var l=this;this.barcodeScanner.scan().then(function(n){console.log("Barcode data",n),n&&n.text&&l.getDataFromCode(n.text)}).catch(function(n){l.result=n,console.log("Error",n)})},l.prototype.getDataFromCode=function(l){var n=this,u=l.split(":");u.length>0?this.dealService.getDataForQrCode(u[1],u[0]).then(function(l){n.user=l.user,n.deal=l.deal,n.claimedDeal=l.claimed}):this.result="Invalid barcode"},l.prototype.formatDate=function(l){return r(l).format("MMM Do, HH:mmA")},l}(),b=function(){return function(){}}(),c=u("pMnS"),i=u("Ip0R"),s=u("oBZk"),f=u("ZZ/e"),d=t.rb({encapsulation:0,styles:[[".scan-qr[_ngcontent-%COMP%]{text-align:center}.scan-qr[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:20px}.scan-qr[_ngcontent-%COMP%]   .scan-qr__result[_ngcontent-%COMP%]{margin:0 0 10px;color:red}"]],data:{}});function p(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"p",[["class","scan-qr__result"]],null,null,null,null,null)),(l()(),t.Nb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.result)})}function m(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(2,null,[""," ",""]))],null,function(l,n){var u=n.component;l(n,2,0,u.user.profile.first_name,u.user.profile.last_name)})}function g(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(2,null,["",""]))],null,function(l,n){l(n,2,0,n.component.user.name)})}function h(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,5,"div",[["class","scan-qr__user"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,[" Claimed by: "])),(l()(),t.ib(16777216,null,null,1,null,m)),t.sb(3,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,g)),t.sb(5,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,3,0,u.user.profile),l(n,5,0,!u.user.profile)},null)}function D(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[["class","scan-qr__deal"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,[" Deal: "])),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(3,null,["",""]))],null,function(l,n){l(n,3,0,n.component.deal.name)})}function k(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[["class","scan-qr__claimed"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,[" Claimed at: "])),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(3,null,["",""]))],null,function(l,n){var u=n.component;l(n,3,0,u.formatDate(u.claimedDeal.created_at))})}function v(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,13,"ion-header",[],null,null,null,s.Z,s.n)),t.sb(1,49152,null,0,f.B,[t.h,t.k,t.z],null,null),(l()(),t.tb(2,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,s.xb,s.L)),t.sb(3,49152,null,0,f.Bb,[t.h,t.k,t.z],{color:[0,"color"]},null),(l()(),t.tb(4,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,s.Q,s.e)),t.sb(5,49152,null,0,f.l,[t.h,t.k,t.z],null,null),(l()(),t.tb(6,0,null,0,4,"ion-button",[],null,null,null,s.P,s.d)),t.sb(7,49152,null,0,f.k,[t.h,t.k,t.z],null,null),(l()(),t.tb(8,0,null,0,2,"ion-back-button",[["defaultHref","/tabs/home"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Fb(l,10).onClick(u)&&e),e},s.O,s.c)),t.sb(9,49152,null,0,f.g,[t.h,t.k,t.z],{defaultHref:[0,"defaultHref"]},null),t.sb(10,16384,null,0,f.h,[[2,f.hb],f.Ib],{defaultHref:[0,"defaultHref"]},null),(l()(),t.tb(11,0,null,0,2,"ion-title",[],null,null,null,s.vb,s.J)),t.sb(12,49152,null,0,f.zb,[t.h,t.k,t.z],null,null),(l()(),t.Nb(-1,0,["Scan QR Code"])),(l()(),t.tb(14,0,null,null,12,"ion-content",[["class","scan-qr"]],null,null,null,s.V,s.j)),t.sb(15,49152,null,0,f.u,[t.h,t.k,t.z],null,null),(l()(),t.tb(16,0,null,0,2,"ion-button",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.scanCode()&&t),t},s.P,s.d)),t.sb(17,49152,null,0,f.k,[t.h,t.k,t.z],null,null),(l()(),t.Nb(-1,0,["Scan QR Code"])),(l()(),t.ib(16777216,null,0,1,null,p)),t.sb(20,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,0,1,null,h)),t.sb(22,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,0,1,null,D)),t.sb(24,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,0,1,null,k)),t.sb(26,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,3,0,"primary"),l(n,9,0,"/tabs/home"),l(n,10,0,"/tabs/home"),l(n,20,0,u.result),l(n,22,0,u.user.id),l(n,24,0,u.deal.id),l(n,26,0,u.claimedDeal.id)},null)}function C(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"app-scan-qr",[],null,null,null,v,d)),t.sb(1,114688,null,0,a,[e.a,o.a],null,null)],function(l,n){l(n,1,0)},null)}var _=t.pb("app-scan-qr",a,C,{},{},[]),I=u("gIcY"),q=u("ZYCi");u.d(n,"ScanQrPageModuleNgFactory",function(){return P});var P=t.qb(b,[],function(l){return t.Cb([t.Db(512,t.j,t.bb,[[8,[c.a,_]],[3,t.j],t.x]),t.Db(4608,i.l,i.k,[t.u,[2,i.w]]),t.Db(4608,I.l,I.l,[]),t.Db(4608,f.b,f.b,[t.z,t.g]),t.Db(4608,f.Hb,f.Hb,[f.b,t.j,t.q]),t.Db(4608,f.Lb,f.Lb,[f.b,t.j,t.q]),t.Db(1073742336,i.b,i.b,[]),t.Db(1073742336,I.k,I.k,[]),t.Db(1073742336,I.d,I.d,[]),t.Db(1073742336,f.Db,f.Db,[]),t.Db(1073742336,q.q,q.q,[[2,q.v],[2,q.n]]),t.Db(1073742336,b,b,[]),t.Db(1024,q.l,function(){return[[{path:"",component:a}]]},[])])})}}]);