(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{bUT5:function(l,n,t){"use strict";t.r(n);var u=t("CcnG"),e=t("ZZ/e"),i=t("AytR"),o=t("t/Na"),a=t("iw74"),c=function(){function l(l,n){this.http=l,this.storage=n}return l.prototype.getApplications=function(){var l=this;return new Promise(function(n,t){l.storage.get("dmo_token").then(function(u){u?l.http.get(i.a.apiUrl+"/applications?token="+u).subscribe(function(l){n(l)},function(l){t(l)}):t()})})},l.prototype.approveApplication=function(l){var n=this;return new Promise(function(t,u){n.storage.get("dmo_token").then(function(e){e?n.http.post(i.a.apiUrl+"/applications/approve?token="+e,l).subscribe(function(l){t(l)},function(l){u(l)}):u()})})},l.prototype.declineApplication=function(l){var n=this;return new Promise(function(t,u){n.storage.get("dmo_token").then(function(e){e?n.http.post(i.a.apiUrl+"/applications/decline?token="+e,l).subscribe(function(l){t(l)},function(l){u(l)}):u()})})},l.ngInjectableDef=u.Sb({factory:function(){return new l(u.Tb(o.c),u.Tb(a.b))},token:l,providedIn:"root"}),l}(),r=function(){function l(l,n){this.applicationService=l,this.alertController=n,this.applications={venues:[],dj:[]},this.getApplications()}return l.prototype.ngOnInit=function(){},l.prototype.getApplications=function(){var l=this;this.loading=!0,this.applicationService.getApplications().then(function(n){l.loading=!1,console.log(n),l.applications=n}).catch(function(){l.loading=!1})},l.prototype.approveVenue=function(l,n){var t=this;l.preventDefault(),l.stopPropagation(),this.alertController.create({header:"Are Your Sure?",subHeader:"Your are about to approve "+n.name,message:"By approving this venue, they will be visible by all users of the app. The venue will also be able to create their own events and deals within the app.",buttons:[{text:"Cancel",role:"cancel"},{text:"Approve Venue",handler:function(){t.approveApplication({venue_id:n.id})}}]}).then(function(l){l.present()})},l.prototype.declineVenue=function(l,n){var t=this;l.preventDefault(),l.stopPropagation(),this.alertController.create({header:"Are Your Sure?",subHeader:"Your are about to decline "+n.name,message:"By declining this venue, their application will be rejected and they will not be listed within the app.",buttons:[{text:"Cancel",role:"cancel"},{text:"Decline Venue",handler:function(){t.declineApplication({venue_id:n.id})}}]}).then(function(l){l.present()})},l.prototype.approveDj=function(l,n){var t=this;l.preventDefault(),l.stopPropagation(),this.alertController.create({header:"Are Your Sure?",subHeader:"Your are about to approve "+n.name,message:"By approving this artist, they will be visible by all users of the app.",buttons:[{text:"Cancel",role:"cancel"},{text:"Approve Artist",handler:function(){t.approveApplication({dj_id:n.id})}}]}).then(function(l){l.present()})},l.prototype.declineDj=function(l,n){var t=this;l.preventDefault(),l.stopPropagation(),this.alertController.create({header:"Are Your Sure?",subHeader:"Your are about to decline "+n.name,message:"By declining this artist, their application will be rejected and they will not be listed within the app.",buttons:[{text:"Cancel",role:"cancel"},{text:"Decline Artist",handler:function(){t.declineApplication({dj_id:n.id})}}]}).then(function(l){l.present()})},l.prototype.approveApplication=function(l){var n=this;this.applicationService.approveApplication(l).then(function(){n.getApplications(),n.alertController.create({header:"Application Approved!",message:"This application has now been approved.",buttons:[{text:"Dismiss",role:"cancel"}]}).then(function(l){l.present()})}).catch(function(){n.alertController.create({header:"Error",message:"There was an error approving this application.",buttons:[{text:"Dismiss",role:"cancel"}]}).then(function(l){l.present()})})},l.prototype.declineApplication=function(l){var n=this;this.applicationService.declineApplication(l).then(function(){n.getApplications(),n.alertController.create({header:"Application Declined",message:"This application has now been declined.",buttons:[{text:"Dismiss",role:"cancel"}]}).then(function(l){l.present()})}).catch(function(){n.alertController.create({header:"Error",message:"There was an error declining this application.",buttons:[{text:"Dismiss",role:"cancel"}]}).then(function(l){l.present()})})},l}(),p=function(){return function(){}}(),s=t("pMnS"),b=t("oBZk"),f=t("ZYCi"),h=t("Ip0R"),g=u.rb({encapsulation:0,styles:[[".manage-applications[_ngcontent-%COMP%]   .manage-applications__loading[_ngcontent-%COMP%]{text-align:Center;margin:100px 10px}.manage-applications[_ngcontent-%COMP%]   .manage-applications__empty[_ngcontent-%COMP%]{text-align:center;margin:100px 10px;text-transform:uppercase;font-size:18px;opacity:.1;font-weight:700;letter-spacing:4px}.manage-applications[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:10px}.manage-applications[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{width:20px;height:20px;padding:10px;border-radius:20px;background-color:#000;color:#fff;margin-bottom:5px;margin-right:15px}"]],data:{}});function d(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,2,"div",[["class","manage-applications__loading"]],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,1,"ion-spinner",[],null,null,null,b.pb,b.D)),u.sb(2,49152,null,0,e.rb,[u.h,u.k,u.z],null,null)],null,null)}function m(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"div",[["class","manage-applications__empty"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,[" No Applications "]))],null,null)}function k(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"ion-icon",[["name","business"]],null,null,null,b.ab,b.o)),u.sb(1,49152,null,0,e.C,[u.h,u.k,u.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"business")},null)}function v(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,2,"ion-avatar",[["slot","start"]],null,null,null,b.N,b.b)),u.sb(1,49152,null,0,e.f,[u.h,u.k,u.z],null,null),(l()(),u.tb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,2,0,n.parent.context.$implicit.image)})}function x(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,22,"ion-item",[],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Fb(l,2).onClick()&&e),"click"===n&&(e=!1!==u.Fb(l,3).onClick(t)&&e),e},b.cb,b.q)),u.sb(1,49152,null,0,e.H,[u.h,u.k,u.z],null,null),u.sb(2,16384,null,0,f.o,[f.n,f.a,[8,null],u.D,u.k],{routerLink:[0,"routerLink"]},null),u.sb(3,737280,null,0,e.Nb,[h.g,e.Ib,u.k,f.n,[2,f.o]],null,null),(l()(),u.ib(16777216,null,0,1,null,k)),u.sb(5,16384,null,0,h.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,0,1,null,v)),u.sb(7,16384,null,0,h.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.tb(8,0,null,0,14,"ion-label",[],null,null,null,b.db,b.r)),u.sb(9,49152,null,0,e.N,[u.h,u.k,u.z],null,null),(l()(),u.tb(10,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),u.Nb(11,null,["",""])),(l()(),u.tb(12,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),u.Nb(13,null,["",""])),(l()(),u.tb(14,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),u.Nb(15,null,["",""])),(l()(),u.tb(16,0,null,0,6,"div",[["class","actions"]],null,null,null,null,null)),(l()(),u.tb(17,0,null,null,2,"ion-button",[["fill","clear"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.approveVenue(t,l.context.$implicit)&&u),u},b.P,b.d)),u.sb(18,49152,null,0,e.k,[u.h,u.k,u.z],{fill:[0,"fill"]},null),(l()(),u.Nb(-1,0,["Approve"])),(l()(),u.tb(20,0,null,null,2,"ion-button",[["color","danger"],["fill","clear"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.declineVenue(t,l.context.$implicit)&&u),u},b.P,b.d)),u.sb(21,49152,null,0,e.k,[u.h,u.k,u.z],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),u.Nb(-1,0,["Decline"]))],function(l,n){l(n,2,0,"/venue/"+n.context.$implicit.id),l(n,3,0),l(n,5,0,!n.context.$implicit.image),l(n,7,0,n.context.$implicit.image),l(n,18,0,"clear"),l(n,21,0,"danger","clear")},function(l,n){l(n,11,0,n.context.$implicit.name),l(n,13,0,n.context.$implicit.address),l(n,15,0,n.context.$implicit.description)})}function P(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,8,"ion-list",[],null,null,null,b.fb,b.s)),u.sb(1,49152,null,0,e.O,[u.h,u.k,u.z],null,null),(l()(),u.tb(2,0,null,0,4,"ion-list-header",[],null,null,null,b.eb,b.t)),u.sb(3,49152,null,0,e.P,[u.h,u.k,u.z],null,null),(l()(),u.tb(4,0,null,0,2,"ion-label",[],null,null,null,b.db,b.r)),u.sb(5,49152,null,0,e.N,[u.h,u.k,u.z],null,null),(l()(),u.Nb(-1,0,["Venues/Promoters"])),(l()(),u.ib(16777216,null,0,1,null,x)),u.sb(8,278528,null,0,h.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,8,0,n.component.applications.venues)},null)}function D(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"ion-icon",[["name","musical-notes"]],null,null,null,b.ab,b.o)),u.sb(1,49152,null,0,e.C,[u.h,u.k,u.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"musical-notes")},null)}function A(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,2,"ion-avatar",[["slot","start"]],null,null,null,b.N,b.b)),u.sb(1,49152,null,0,e.f,[u.h,u.k,u.z],null,null),(l()(),u.tb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,2,0,n.parent.context.$implicit.image)})}function C(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,22,"ion-item",[],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Fb(l,2).onClick()&&e),"click"===n&&(e=!1!==u.Fb(l,3).onClick(t)&&e),e},b.cb,b.q)),u.sb(1,49152,null,0,e.H,[u.h,u.k,u.z],null,null),u.sb(2,16384,null,0,f.o,[f.n,f.a,[8,null],u.D,u.k],{routerLink:[0,"routerLink"]},null),u.sb(3,737280,null,0,e.Nb,[h.g,e.Ib,u.k,f.n,[2,f.o]],null,null),(l()(),u.ib(16777216,null,0,1,null,D)),u.sb(5,16384,null,0,h.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,0,1,null,A)),u.sb(7,16384,null,0,h.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.tb(8,0,null,0,14,"ion-label",[],null,null,null,b.db,b.r)),u.sb(9,49152,null,0,e.N,[u.h,u.k,u.z],null,null),(l()(),u.tb(10,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),u.Nb(11,null,["",""])),(l()(),u.tb(12,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),u.Nb(13,null,["",""])),(l()(),u.tb(14,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),u.Nb(15,null,["",""])),(l()(),u.tb(16,0,null,0,6,"div",[["class","actions"]],null,null,null,null,null)),(l()(),u.tb(17,0,null,null,2,"ion-button",[["fill","clear"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.approveDj(t,l.context.$implicit)&&u),u},b.P,b.d)),u.sb(18,49152,null,0,e.k,[u.h,u.k,u.z],{fill:[0,"fill"]},null),(l()(),u.Nb(-1,0,["Approve"])),(l()(),u.tb(20,0,null,null,2,"ion-button",[["color","danger"],["fill","clear"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.declineDj(t,l.context.$implicit)&&u),u},b.P,b.d)),u.sb(21,49152,null,0,e.k,[u.h,u.k,u.z],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),u.Nb(-1,0,["Decline"]))],function(l,n){l(n,2,0,"/dj/"+n.context.$implicit.id),l(n,3,0),l(n,5,0,!n.context.$implicit.image),l(n,7,0,n.context.$implicit.image),l(n,18,0,"clear"),l(n,21,0,"danger","clear")},function(l,n){l(n,11,0,n.context.$implicit.name),l(n,13,0,n.context.$implicit.subtitle),l(n,15,0,n.context.$implicit.description)})}function y(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,8,"ion-list",[],null,null,null,b.fb,b.s)),u.sb(1,49152,null,0,e.O,[u.h,u.k,u.z],null,null),(l()(),u.tb(2,0,null,0,4,"ion-list-header",[],null,null,null,b.eb,b.t)),u.sb(3,49152,null,0,e.P,[u.h,u.k,u.z],null,null),(l()(),u.tb(4,0,null,0,2,"ion-label",[],null,null,null,b.db,b.r)),u.sb(5,49152,null,0,e.N,[u.h,u.k,u.z],null,null),(l()(),u.Nb(-1,0,["Artists"])),(l()(),u.ib(16777216,null,0,1,null,C)),u.sb(8,278528,null,0,h.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,8,0,n.component.applications.djs)},null)}function j(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,4,"div",[["class","manage-applications__applications"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,P)),u.sb(2,16384,null,0,h.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,y)),u.sb(4,16384,null,0,h.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,2,0,t.applications.venues.length>0),l(n,4,0,t.applications.djs.length>0)},null)}function w(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,13,"ion-header",[],null,null,null,b.Z,b.n)),u.sb(1,49152,null,0,e.B,[u.h,u.k,u.z],null,null),(l()(),u.tb(2,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,b.xb,b.L)),u.sb(3,49152,null,0,e.Bb,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.tb(4,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,b.Q,b.e)),u.sb(5,49152,null,0,e.l,[u.h,u.k,u.z],null,null),(l()(),u.tb(6,0,null,0,4,"ion-button",[],null,null,null,b.P,b.d)),u.sb(7,49152,null,0,e.k,[u.h,u.k,u.z],null,null),(l()(),u.tb(8,0,null,0,2,"ion-back-button",[["defaultHref","/tabs/home"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Fb(l,10).onClick(t)&&e),e},b.O,b.c)),u.sb(9,49152,null,0,e.g,[u.h,u.k,u.z],{defaultHref:[0,"defaultHref"]},null),u.sb(10,16384,null,0,e.h,[[2,e.hb],e.Ib],{defaultHref:[0,"defaultHref"]},null),(l()(),u.tb(11,0,null,0,2,"ion-title",[],null,null,null,b.vb,b.J)),u.sb(12,49152,null,0,e.zb,[u.h,u.k,u.z],null,null),(l()(),u.Nb(-1,0,["Manage Applications"])),(l()(),u.tb(14,0,null,null,7,"ion-content",[["class","manage-applications"]],null,null,null,b.V,b.j)),u.sb(15,49152,null,0,e.u,[u.h,u.k,u.z],null,null),(l()(),u.ib(16777216,null,0,1,null,d)),u.sb(17,16384,null,0,h.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,0,1,null,m)),u.sb(19,16384,null,0,h.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,0,1,null,j)),u.sb(21,16384,null,0,h.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,3,0,"primary"),l(n,9,0,"/tabs/home"),l(n,10,0,"/tabs/home"),l(n,17,0,t.loading),l(n,19,0,!t.loading&&(!t.applications||t.applications.venues.length<1&&t.applications.djs.length<1)),l(n,21,0,!t.loading&&t.applications&&(t.applications.venues.length>0||t.applications.djs.length>0))},null)}function z(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"app-manage-applications",[],null,null,null,w,g)),u.sb(1,114688,null,0,r,[c,e.a],null,null)],function(l,n){l(n,1,0)},null)}var O=u.pb("app-manage-applications",r,z,{},{},[]),I=t("gIcY");t.d(n,"ManageApplicationsPageModuleNgFactory",function(){return _});var _=u.qb(p,[],function(l){return u.Cb([u.Db(512,u.j,u.bb,[[8,[s.a,O]],[3,u.j],u.x]),u.Db(4608,h.l,h.k,[u.u,[2,h.w]]),u.Db(4608,I.l,I.l,[]),u.Db(4608,e.b,e.b,[u.z,u.g]),u.Db(4608,e.Hb,e.Hb,[e.b,u.j,u.q]),u.Db(4608,e.Lb,e.Lb,[e.b,u.j,u.q]),u.Db(1073742336,h.b,h.b,[]),u.Db(1073742336,I.k,I.k,[]),u.Db(1073742336,I.d,I.d,[]),u.Db(1073742336,e.Db,e.Db,[]),u.Db(1073742336,f.q,f.q,[[2,f.v],[2,f.n]]),u.Db(1073742336,p,p,[]),u.Db(1024,f.l,function(){return[[{path:"",component:r}]]},[])])})}}]);