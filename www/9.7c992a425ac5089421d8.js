(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2X5T":function(n,l,u){"use strict";u.d(l,"a",function(){return i}),u("ZZ/e"),u("Pn9U"),u("gRf5"),u("y24p");var t=u("AytR"),i=(u("ri4K"),u("3Zaj"),function(){function n(n,l,u,t,i,o,e,a,r,s,c){this.router=n,this.transfer=l,this.camera=u,this.loadingController=t,this.alertController=i,this.modalController=o,this.djService=e,this.navController=a,this.authenticationService=r,this.navParams=s,this.crop=c;var b=this.navParams.get("dj");this.dj=Object.assign({},b),this.socialMediaRaw=JSON.parse(this.dj.social_media),console.log(this.socialMediaRaw),this.socialMedia=["Soundcloud","Instagram","Spotify"]}return n.prototype.ngOnInit=function(){},n.prototype.dismiss=function(){this.modalController.dismiss()},n.prototype.changeImage=function(){var n=this;this.camera.getPicture({sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then(function(l){n.crop.crop(l,{quality:100}).then(function(l){var u;n.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e3}).then(function(n){u=n,n.present()});var i=n.transfer.create(),o={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};i.upload(l,encodeURI(t.a.apiUrl+"/upload"),o).then(function(l){n.dj.image=l.response,u.dismiss()},function(l){n.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(l),buttons:[{text:"Dismiss",role:"cancel"}]}).then(function(n){n.present()}),u.dismiss()})},function(n){})},function(n){})},n.prototype.save=function(){this.dj.social_media=JSON.stringify(this.socialMediaRaw),this.modalController.dismiss(this.dj)},n}())},"3Zaj":function(n,l,u){"use strict";u.d(l,"a",function(){return r});var t=u("AytR"),i=u("wd/R"),o=u("CcnG"),e=u("t/Na"),a=u("iw74"),r=function(){function n(n,l){this.http=n,this.storage=l}return n.prototype.getDjs=function(n){var l=this;return new Promise(function(u,i){l.storage.get("dmo_token").then(function(o){o?l.http.get(t.a.apiUrl+"/djs?token="+o+"&search="+n).subscribe(function(n){u(n)},function(n){i(n)}):i()})})},n.prototype.getDj=function(n){var l=this;return new Promise(function(u,o){l.storage.get("dmo_token").then(function(e){e?l.http.get(t.a.apiUrl+"/djs/"+n+"?token="+e+"&user_date="+i().format("YYYY-MM-DD HH:mm")).subscribe(function(n){u(n)},function(n){o(n)}):o()})})},n.prototype.createDj=function(n){var l=this;return new Promise(function(u,i){l.storage.get("dmo_token").then(function(o){o?l.http.post(t.a.apiUrl+"/djs?token="+o,n).subscribe(function(n){u(n)},function(n){i(n)}):i()})})},n.prototype.updateDj=function(n){var l=this;return new Promise(function(u,i){l.storage.get("dmo_token").then(function(o){o?l.http.put(t.a.apiUrl+"/djs/"+n.id+"?token="+o,n).subscribe(function(n){u(n)},function(n){i(n)}):i()})})},n.ngInjectableDef=o.Sb({factory:function(){return new n(o.Tb(e.c),o.Tb(a.b))},token:n,providedIn:"root"}),n}()},Zml9:function(n,l,u){"use strict";var t=u("CcnG"),i=u("oBZk"),o=u("ZZ/e"),e=u("gIcY"),a=u("Ip0R"),r=u("2X5T"),s=u("ZYCi"),c=u("gRf5"),b=u("Pn9U"),d=u("3Zaj"),g=u("ri4K"),p=u("y24p");u.d(l,"a",function(){return I});var f=t.rb({encapsulation:0,styles:[[".dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;height:20px;padding:10px;border-radius:20px;background-color:#000;color:#fff;margin-bottom:5px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin-bottom:5px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:15px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__social-media[_ngcontent-%COMP%]{margin-top:20px}"]],data:{}});function h(n){return t.Pb(0,[(n()(),t.tb(0,0,null,null,1,"ion-icon",[["name","musical-notes"]],null,null,null,i.ab,i.o)),t.sb(1,49152,null,0,o.C,[t.h,t.k,t.z],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"musical-notes")},null)}function m(n){return t.Pb(0,[(n()(),t.tb(0,0,null,null,2,"ion-avatar",[["item-start",""]],null,null,null,i.N,i.b)),t.sb(1,49152,null,0,o.f,[t.h,t.k,t.z],null,null),(n()(),t.tb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,2,0,l.component.dj.image)})}function C(n){return t.Pb(0,[(n()(),t.tb(0,0,null,null,11,"ion-item",[],null,null,null,i.cb,i.q)),t.sb(1,49152,null,0,o.H,[t.h,t.k,t.z],null,null),(n()(),t.tb(2,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.db,i.r)),t.sb(3,49152,null,0,o.N,[t.h,t.k,t.z],{position:[0,"position"]},null),(n()(),t.Nb(4,0,["",""])),(n()(),t.tb(5,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,u){var i=!0,o=n.component;return"ionBlur"===l&&(i=!1!==t.Fb(n,6)._handleBlurEvent()&&i),"ionChange"===l&&(i=!1!==t.Fb(n,6)._handleInputEvent(u.target.value)&&i),"ngModelChange"===l&&(i=!1!==(o.socialMediaRaw[n.context.$implicit]=u)&&i),i},i.bb,i.p)),t.sb(6,16384,null,0,o.Pb,[t.k],null,null),t.Kb(1024,null,e.e,function(n){return[n]},[o.Pb]),t.sb(8,671744,null,0,e.j,[[8,null],[8,null],[8,null],[6,e.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,e.f,null,[e.j]),t.sb(10,16384,null,0,e.g,[[4,e.f]],null,null),t.sb(11,49152,null,0,o.G,[t.h,t.k,t.z],{clearInput:[0,"clearInput"],type:[1,"type"]},null)],function(n,l){var u=l.component;n(l,3,0,"floating"),n(l,8,0,u.socialMediaRaw[l.context.$implicit]),n(l,11,0,"","text")},function(n,l){n(l,4,0,l.context.$implicit),n(l,5,0,t.Fb(l,10).ngClassUntouched,t.Fb(l,10).ngClassTouched,t.Fb(l,10).ngClassPristine,t.Fb(l,10).ngClassDirty,t.Fb(l,10).ngClassValid,t.Fb(l,10).ngClassInvalid,t.Fb(l,10).ngClassPending)})}function j(n){return t.Pb(0,[(n()(),t.tb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t.ib(16777216,null,null,1,null,C)),t.sb(2,278528,null,0,a.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.socialMedia)},null)}function _(n){return t.Pb(0,[(n()(),t.tb(0,0,null,null,1,"p",[["class","signup__form__error"]],null,null,null,null,null)),(n()(),t.Nb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.dj.error)})}function v(n){return t.Pb(0,[(n()(),t.tb(0,0,null,null,1,"ion-icon",[["name","arrow-forward"]],null,null,null,i.ab,i.o)),t.sb(1,49152,null,0,o.C,[t.h,t.k,t.z],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"arrow-forward")},null)}function P(n){return t.Pb(0,[(n()(),t.tb(0,0,null,null,1,"ion-spinner",[],null,null,null,i.pb,i.D)),t.sb(1,49152,null,0,o.rb,[t.h,t.k,t.z],null,null)],null,null)}function k(n){return t.Pb(0,[(n()(),t.tb(0,0,null,null,12,"ion-header",[],null,null,null,i.Z,i.n)),t.sb(1,49152,null,0,o.B,[t.h,t.k,t.z],null,null),(n()(),t.tb(2,0,null,0,10,"ion-toolbar",[["color","primary"]],null,null,null,i.xb,i.L)),t.sb(3,49152,null,0,o.Bb,[t.h,t.k,t.z],{color:[0,"color"]},null),(n()(),t.tb(4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,i.Q,i.e)),t.sb(5,49152,null,0,o.l,[t.h,t.k,t.z],null,null),(n()(),t.tb(6,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.dismiss()&&t),t},i.P,i.d)),t.sb(7,49152,null,0,o.k,[t.h,t.k,t.z],null,null),(n()(),t.tb(8,0,null,0,1,"ion-icon",[["name","md-close"]],null,null,null,i.ab,i.o)),t.sb(9,49152,null,0,o.C,[t.h,t.k,t.z],{name:[0,"name"]},null),(n()(),t.tb(10,0,null,0,2,"ion-title",[],null,null,null,i.vb,i.J)),t.sb(11,49152,null,0,o.zb,[t.h,t.k,t.z],null,null),(n()(),t.Nb(-1,0,["Edit Artist Profile"])),(n()(),t.tb(13,0,null,null,57,"ion-content",[["class","dj-application"]],null,null,null,i.V,i.j)),t.sb(14,49152,null,0,o.u,[t.h,t.k,t.z],null,null),(n()(),t.tb(15,0,null,0,55,"ion-list",[["class","dj-application__form"]],null,null,null,i.fb,i.s)),t.sb(16,49152,null,0,o.O,[t.h,t.k,t.z],null,null),(n()(),t.tb(17,0,null,0,11,"ion-item",[],null,null,null,i.cb,i.q)),t.sb(18,49152,null,0,o.H,[t.h,t.k,t.z],null,null),(n()(),t.tb(19,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.db,i.r)),t.sb(20,49152,null,0,o.N,[t.h,t.k,t.z],{position:[0,"position"]},null),(n()(),t.Nb(-1,0,["Name"])),(n()(),t.tb(22,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,u){var i=!0,o=n.component;return"ionBlur"===l&&(i=!1!==t.Fb(n,23)._handleBlurEvent()&&i),"ionChange"===l&&(i=!1!==t.Fb(n,23)._handleInputEvent(u.target.value)&&i),"ngModelChange"===l&&(i=!1!==(o.dj.name=u)&&i),i},i.bb,i.p)),t.sb(23,16384,null,0,o.Pb,[t.k],null,null),t.Kb(1024,null,e.e,function(n){return[n]},[o.Pb]),t.sb(25,671744,null,0,e.j,[[8,null],[8,null],[8,null],[6,e.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,e.f,null,[e.j]),t.sb(27,16384,null,0,e.g,[[4,e.f]],null,null),t.sb(28,49152,null,0,o.G,[t.h,t.k,t.z],{clearInput:[0,"clearInput"],type:[1,"type"]},null),(n()(),t.tb(29,0,null,0,11,"ion-item",[],null,null,null,i.cb,i.q)),t.sb(30,49152,null,0,o.H,[t.h,t.k,t.z],null,null),(n()(),t.tb(31,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.db,i.r)),t.sb(32,49152,null,0,o.N,[t.h,t.k,t.z],{position:[0,"position"]},null),(n()(),t.Nb(-1,0,["Subtitle"])),(n()(),t.tb(34,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,u){var i=!0,o=n.component;return"ionBlur"===l&&(i=!1!==t.Fb(n,35)._handleBlurEvent()&&i),"ionChange"===l&&(i=!1!==t.Fb(n,35)._handleInputEvent(u.target.value)&&i),"ngModelChange"===l&&(i=!1!==(o.dj.subtitle=u)&&i),i},i.bb,i.p)),t.sb(35,16384,null,0,o.Pb,[t.k],null,null),t.Kb(1024,null,e.e,function(n){return[n]},[o.Pb]),t.sb(37,671744,null,0,e.j,[[8,null],[8,null],[8,null],[6,e.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,e.f,null,[e.j]),t.sb(39,16384,null,0,e.g,[[4,e.f]],null,null),t.sb(40,49152,null,0,o.G,[t.h,t.k,t.z],{clearInput:[0,"clearInput"],type:[1,"type"]},null),(n()(),t.tb(41,0,null,0,8,"ion-item",[["class","dj-application__form__avatar"]],null,null,null,i.cb,i.q)),t.sb(42,49152,null,0,o.H,[t.h,t.k,t.z],null,null),(n()(),t.ib(16777216,null,0,1,null,h)),t.sb(44,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,0,1,null,m)),t.sb(46,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.tb(47,0,null,0,2,"ion-button",[["color","primary"]],null,[[null,"click"]],function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.changeImage()&&t),t},i.P,i.d)),t.sb(48,49152,null,0,o.k,[t.h,t.k,t.z],{color:[0,"color"]},null),(n()(),t.Nb(-1,0,["Select Photo"])),(n()(),t.tb(50,0,null,0,11,"ion-item",[],null,null,null,i.cb,i.q)),t.sb(51,49152,null,0,o.H,[t.h,t.k,t.z],null,null),(n()(),t.tb(52,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.db,i.r)),t.sb(53,49152,null,0,o.N,[t.h,t.k,t.z],{position:[0,"position"]},null),(n()(),t.Nb(-1,0,["About You"])),(n()(),t.tb(55,0,null,0,6,"ion-textarea",[["autosize",""],["clearInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,u){var i=!0,o=n.component;return"ionBlur"===l&&(i=!1!==t.Fb(n,56)._handleBlurEvent()&&i),"ionChange"===l&&(i=!1!==t.Fb(n,56)._handleInputEvent(u.target.value)&&i),"ngModelChange"===l&&(i=!1!==(o.dj.description=u)&&i),i},i.ub,i.I)),t.sb(56,16384,null,0,o.Pb,[t.k],null,null),t.Kb(1024,null,e.e,function(n){return[n]},[o.Pb]),t.sb(58,671744,null,0,e.j,[[8,null],[8,null],[8,null],[6,e.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,e.f,null,[e.j]),t.sb(60,16384,null,0,e.g,[[4,e.f]],null,null),t.sb(61,49152,null,0,o.xb,[t.h,t.k,t.z],null,null),(n()(),t.tb(62,0,null,0,4,"ion-list-header",[["class","dj-application__form__social-media"]],null,null,null,i.eb,i.t)),t.sb(63,49152,null,0,o.P,[t.h,t.k,t.z],null,null),(n()(),t.tb(64,0,null,0,2,"ion-label",[],null,null,null,i.db,i.r)),t.sb(65,49152,null,0,o.N,[t.h,t.k,t.z],null,null),(n()(),t.Nb(-1,0,["Social Media (optional)"])),(n()(),t.ib(16777216,null,0,1,null,j)),t.sb(68,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,0,1,null,_)),t.sb(70,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.tb(71,0,null,null,8,"ion-footer",[["class","signup-footer"]],null,null,null,i.Y,i.m)),t.sb(72,49152,null,0,o.z,[t.h,t.k,t.z],null,null),(n()(),t.tb(73,0,null,0,6,"ion-button",[["class","signup-footer__button"],["color","primary"],["expand","full"]],null,[[null,"click"]],function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.save()&&t),t},i.P,i.d)),t.sb(74,49152,null,0,o.k,[t.h,t.k,t.z],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"]},null),(n()(),t.Nb(-1,0,[" Save\xa0\xa0 "])),(n()(),t.ib(16777216,null,0,1,null,v)),t.sb(77,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,0,1,null,P)),t.sb(79,16384,null,0,a.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var u=l.component;n(l,3,0,"primary"),n(l,9,0,"md-close"),n(l,20,0,"floating"),n(l,25,0,u.dj.name),n(l,28,0,"","text"),n(l,32,0,"floating"),n(l,37,0,u.dj.subtitle),n(l,40,0,"","text"),n(l,44,0,!u.dj.image),n(l,46,0,u.dj.image),n(l,48,0,"primary"),n(l,53,0,"floating"),n(l,58,0,u.dj.description),n(l,68,0,u.socialMediaRaw),n(l,70,0,u.dj.error),n(l,74,0,"primary",u.dj.loading||!u.dj.name,"full"),n(l,77,0,!u.dj.loading),n(l,79,0,u.dj.loading)},function(n,l){n(l,22,0,t.Fb(l,27).ngClassUntouched,t.Fb(l,27).ngClassTouched,t.Fb(l,27).ngClassPristine,t.Fb(l,27).ngClassDirty,t.Fb(l,27).ngClassValid,t.Fb(l,27).ngClassInvalid,t.Fb(l,27).ngClassPending),n(l,34,0,t.Fb(l,39).ngClassUntouched,t.Fb(l,39).ngClassTouched,t.Fb(l,39).ngClassPristine,t.Fb(l,39).ngClassDirty,t.Fb(l,39).ngClassValid,t.Fb(l,39).ngClassInvalid,t.Fb(l,39).ngClassPending),n(l,55,0,t.Fb(l,60).ngClassUntouched,t.Fb(l,60).ngClassTouched,t.Fb(l,60).ngClassPristine,t.Fb(l,60).ngClassDirty,t.Fb(l,60).ngClassValid,t.Fb(l,60).ngClassInvalid,t.Fb(l,60).ngClassPending)})}function y(n){return t.Pb(0,[(n()(),t.tb(0,0,null,null,1,"app-edit-dj",[],null,null,null,k,f)),t.sb(1,114688,null,0,r.a,[s.n,c.a,b.a,o.Fb,o.a,o.Hb,d.a,o.Ib,g.a,o.Jb,p.a],null,null)],function(n,l){n(l,1,0)},null)}var I=t.pb("app-edit-dj",r.a,y,{},{},[])}}]);