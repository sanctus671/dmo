(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"3Zaj":function(n,l,t){"use strict";t.d(l,"a",function(){return r});var u=t("AytR"),e=t("wd/R"),o=t("CcnG"),i=t("t/Na"),a=t("iw74"),r=function(){function n(n,l){this.http=n,this.storage=l}return n.prototype.getDjs=function(n){var l=this;return new Promise(function(t,e){l.storage.get("dmo_token").then(function(o){o?l.http.get(u.a.apiUrl+"/djs?token="+o+"&search="+n).subscribe(function(n){t(n)},function(n){e(n)}):e()})})},n.prototype.getDj=function(n){var l=this;return new Promise(function(t,o){l.storage.get("dmo_token").then(function(i){i?l.http.get(u.a.apiUrl+"/djs/"+n+"?token="+i+"&user_date="+e().format("YYYY-MM-DD HH:mm")).subscribe(function(n){t(n)},function(n){o(n)}):o()})})},n.prototype.createDj=function(n){var l=this;return new Promise(function(t,e){l.storage.get("dmo_token").then(function(o){o?l.http.post(u.a.apiUrl+"/djs?token="+o,n).subscribe(function(n){t(n)},function(n){e(n)}):e()})})},n.prototype.updateDj=function(n){var l=this;return new Promise(function(t,e){l.storage.get("dmo_token").then(function(o){o?l.http.put(u.a.apiUrl+"/djs/"+n.id+"?token="+o,n).subscribe(function(n){t(n)},function(n){e(n)}):e()})})},n.ngInjectableDef=o.Sb({factory:function(){return new n(o.Tb(i.c),o.Tb(a.b))},token:n,providedIn:"root"}),n}()},iAdx:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=t("ZZ/e"),o=t("Pn9U"),i=t("gRf5"),a=t("AytR"),r=t("ri4K"),s=t("3Zaj"),b=function(){function n(n,l,t,u,e,o,i,a,r){this.router=n,this.transfer=l,this.camera=t,this.loadingController=u,this.alertController=e,this.modalController=o,this.djService=i,this.navController=a,this.authenticationService=r,this.dj={social_media_raw:{}},this.socialMedia=["Soundcloud","Instagram","Spotify"]}return n.prototype.ngOnInit=function(){},n.prototype.changeImage=function(){var n=this;this.camera.getPicture({sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then(function(l){var t;n.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e3}).then(function(n){t=n,n.present()});var u=n.transfer.create(),e={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};u.upload(l,encodeURI(a.a.apiUrl+"/upload"),e).then(function(l){n.dj.image=l.response,t.dismiss()},function(l){n.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(l),buttons:[{text:"Dismiss",role:"cancel"}]}).then(function(n){n.present()}),t.dismiss()})},function(n){})},n.prototype.apply=function(){var n=this;this.dj.loading=!0,this.dj.social_media=JSON.stringify(this.dj.social_media_raw),this.djService.createDj(this.dj).then(function(l){console.log(l),n.dj.loading=!1,n.alertController.create({header:"Application Sent!",subHeader:"Your application has successfully been submitted",message:"You will be notified when your application has been approved. You can view the status of your application any time by going to DJ Profile in the sidemenu.",buttons:[{text:"OK",role:"cancel"}]}).then(function(t){t.present(),t.onDidDismiss().then(function(){n.authenticationService.retreiveUserData().then(function(){}),n.navController.pop().then(function(){n.navController.navigateForward(["dj/"+l.id])})})})}).catch(function(l){n.dj.loading=!1,n.alertController.create({header:"Error",subHeader:"There was a problem applying to list your DJ profile",message:JSON.stringify(l),buttons:[{text:"Dismiss",role:"cancel"}]}).then(function(n){n.present()})})},n}(),c=function(){return function(){}}(),d=t("pMnS"),p=t("oBZk"),g=t("gIcY"),f=t("Ip0R"),h=t("ZYCi"),m=u.rb({encapsulation:0,styles:[[".dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;height:20px;padding:10px;border-radius:20px;background-color:#000;color:#fff;margin-bottom:5px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin-bottom:5px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:15px}.dj-application[_ngcontent-%COMP%]   .dj-application__form__social-media[_ngcontent-%COMP%]{margin-top:20px}"]],data:{}});function C(n){return u.Pb(0,[(n()(),u.tb(0,0,null,null,1,"ion-icon",[["name","musical-notes"]],null,null,null,p.ab,p.o)),u.sb(1,49152,null,0,e.C,[u.h,u.k,u.z],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"musical-notes")},null)}function j(n){return u.Pb(0,[(n()(),u.tb(0,0,null,null,2,"ion-avatar",[["item-start",""]],null,null,null,p.N,p.b)),u.sb(1,49152,null,0,e.f,[u.h,u.k,u.z],null,null),(n()(),u.tb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,2,0,l.component.dj.image)})}function _(n){return u.Pb(0,[(n()(),u.tb(0,0,null,null,11,"ion-item",[],null,null,null,p.cb,p.q)),u.sb(1,49152,null,0,e.H,[u.h,u.k,u.z],null,null),(n()(),u.tb(2,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,p.db,p.r)),u.sb(3,49152,null,0,e.N,[u.h,u.k,u.z],{position:[0,"position"]},null),(n()(),u.Nb(4,0,["",""])),(n()(),u.tb(5,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==u.Fb(n,6)._handleBlurEvent()&&e),"ionChange"===l&&(e=!1!==u.Fb(n,6)._handleInputEvent(t.target.value)&&e),"ngModelChange"===l&&(e=!1!==(o.dj.social_media_raw[n.context.$implicit]=t)&&e),e},p.bb,p.p)),u.sb(6,16384,null,0,e.Pb,[u.k],null,null),u.Kb(1024,null,g.e,function(n){return[n]},[e.Pb]),u.sb(8,671744,null,0,g.j,[[8,null],[8,null],[8,null],[6,g.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,g.f,null,[g.j]),u.sb(10,16384,null,0,g.g,[[4,g.f]],null,null),u.sb(11,49152,null,0,e.G,[u.h,u.k,u.z],{clearInput:[0,"clearInput"],type:[1,"type"]},null)],function(n,l){var t=l.component;n(l,3,0,"floating"),n(l,8,0,t.dj.social_media_raw[l.context.$implicit]),n(l,11,0,"","text")},function(n,l){n(l,4,0,l.context.$implicit),n(l,5,0,u.Fb(l,10).ngClassUntouched,u.Fb(l,10).ngClassTouched,u.Fb(l,10).ngClassPristine,u.Fb(l,10).ngClassDirty,u.Fb(l,10).ngClassValid,u.Fb(l,10).ngClassInvalid,u.Fb(l,10).ngClassPending)})}function v(n){return u.Pb(0,[(n()(),u.tb(0,0,null,null,1,"p",[["class","signup__form__error"]],null,null,null,null,null)),(n()(),u.Nb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.dj.error)})}function k(n){return u.Pb(0,[(n()(),u.tb(0,0,null,null,1,"ion-icon",[["name","arrow-forward"]],null,null,null,p.ab,p.o)),u.sb(1,49152,null,0,e.C,[u.h,u.k,u.z],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"arrow-forward")},null)}function y(n){return u.Pb(0,[(n()(),u.tb(0,0,null,null,1,"ion-spinner",[],null,null,null,p.pb,p.D)),u.sb(1,49152,null,0,e.rb,[u.h,u.k,u.z],null,null)],null,null)}function P(n){return u.Pb(0,[(n()(),u.tb(0,0,null,null,13,"ion-header",[],null,null,null,p.Z,p.n)),u.sb(1,49152,null,0,e.B,[u.h,u.k,u.z],null,null),(n()(),u.tb(2,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,p.xb,p.L)),u.sb(3,49152,null,0,e.Bb,[u.h,u.k,u.z],{color:[0,"color"]},null),(n()(),u.tb(4,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,p.Q,p.e)),u.sb(5,49152,null,0,e.l,[u.h,u.k,u.z],null,null),(n()(),u.tb(6,0,null,0,4,"ion-button",[],null,null,null,p.P,p.d)),u.sb(7,49152,null,0,e.k,[u.h,u.k,u.z],null,null),(n()(),u.tb(8,0,null,0,2,"ion-back-button",[["defaultHref","/tabs/home"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==u.Fb(n,10).onClick(t)&&e),e},p.O,p.c)),u.sb(9,49152,null,0,e.g,[u.h,u.k,u.z],{defaultHref:[0,"defaultHref"]},null),u.sb(10,16384,null,0,e.h,[[2,e.hb],e.Ib],{defaultHref:[0,"defaultHref"]},null),(n()(),u.tb(11,0,null,0,2,"ion-title",[],null,null,null,p.vb,p.J)),u.sb(12,49152,null,0,e.zb,[u.h,u.k,u.z],null,null),(n()(),u.Nb(-1,0,["List DJ Profile"])),(n()(),u.tb(14,0,null,null,57,"ion-content",[["class","dj-application"]],null,null,null,p.V,p.j)),u.sb(15,49152,null,0,e.u,[u.h,u.k,u.z],null,null),(n()(),u.tb(16,0,null,0,55,"ion-list",[["class","dj-application__form"]],null,null,null,p.fb,p.s)),u.sb(17,49152,null,0,e.O,[u.h,u.k,u.z],null,null),(n()(),u.tb(18,0,null,0,11,"ion-item",[],null,null,null,p.cb,p.q)),u.sb(19,49152,null,0,e.H,[u.h,u.k,u.z],null,null),(n()(),u.tb(20,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,p.db,p.r)),u.sb(21,49152,null,0,e.N,[u.h,u.k,u.z],{position:[0,"position"]},null),(n()(),u.Nb(-1,0,["Name"])),(n()(),u.tb(23,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==u.Fb(n,24)._handleBlurEvent()&&e),"ionChange"===l&&(e=!1!==u.Fb(n,24)._handleInputEvent(t.target.value)&&e),"ngModelChange"===l&&(e=!1!==(o.dj.name=t)&&e),e},p.bb,p.p)),u.sb(24,16384,null,0,e.Pb,[u.k],null,null),u.Kb(1024,null,g.e,function(n){return[n]},[e.Pb]),u.sb(26,671744,null,0,g.j,[[8,null],[8,null],[8,null],[6,g.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,g.f,null,[g.j]),u.sb(28,16384,null,0,g.g,[[4,g.f]],null,null),u.sb(29,49152,null,0,e.G,[u.h,u.k,u.z],{clearInput:[0,"clearInput"],type:[1,"type"]},null),(n()(),u.tb(30,0,null,0,11,"ion-item",[],null,null,null,p.cb,p.q)),u.sb(31,49152,null,0,e.H,[u.h,u.k,u.z],null,null),(n()(),u.tb(32,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,p.db,p.r)),u.sb(33,49152,null,0,e.N,[u.h,u.k,u.z],{position:[0,"position"]},null),(n()(),u.Nb(-1,0,["Subtitle"])),(n()(),u.tb(35,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==u.Fb(n,36)._handleBlurEvent()&&e),"ionChange"===l&&(e=!1!==u.Fb(n,36)._handleInputEvent(t.target.value)&&e),"ngModelChange"===l&&(e=!1!==(o.dj.subtitle=t)&&e),e},p.bb,p.p)),u.sb(36,16384,null,0,e.Pb,[u.k],null,null),u.Kb(1024,null,g.e,function(n){return[n]},[e.Pb]),u.sb(38,671744,null,0,g.j,[[8,null],[8,null],[8,null],[6,g.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,g.f,null,[g.j]),u.sb(40,16384,null,0,g.g,[[4,g.f]],null,null),u.sb(41,49152,null,0,e.G,[u.h,u.k,u.z],{clearInput:[0,"clearInput"],type:[1,"type"]},null),(n()(),u.tb(42,0,null,0,8,"ion-item",[["class","dj-application__form__avatar"]],null,null,null,p.cb,p.q)),u.sb(43,49152,null,0,e.H,[u.h,u.k,u.z],null,null),(n()(),u.ib(16777216,null,0,1,null,C)),u.sb(45,16384,null,0,f.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,0,1,null,j)),u.sb(47,16384,null,0,f.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.tb(48,0,null,0,2,"ion-button",[["color","primary"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.changeImage()&&u),u},p.P,p.d)),u.sb(49,49152,null,0,e.k,[u.h,u.k,u.z],{color:[0,"color"]},null),(n()(),u.Nb(-1,0,["Select Photo"])),(n()(),u.tb(51,0,null,0,11,"ion-item",[],null,null,null,p.cb,p.q)),u.sb(52,49152,null,0,e.H,[u.h,u.k,u.z],null,null),(n()(),u.tb(53,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,p.db,p.r)),u.sb(54,49152,null,0,e.N,[u.h,u.k,u.z],{position:[0,"position"]},null),(n()(),u.Nb(-1,0,["About You"])),(n()(),u.tb(56,0,null,0,6,"ion-textarea",[["autosize",""],["clearInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==u.Fb(n,57)._handleBlurEvent()&&e),"ionChange"===l&&(e=!1!==u.Fb(n,57)._handleInputEvent(t.target.value)&&e),"ngModelChange"===l&&(e=!1!==(o.dj.description=t)&&e),e},p.ub,p.I)),u.sb(57,16384,null,0,e.Pb,[u.k],null,null),u.Kb(1024,null,g.e,function(n){return[n]},[e.Pb]),u.sb(59,671744,null,0,g.j,[[8,null],[8,null],[8,null],[6,g.e]],{model:[0,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,g.f,null,[g.j]),u.sb(61,16384,null,0,g.g,[[4,g.f]],null,null),u.sb(62,49152,null,0,e.xb,[u.h,u.k,u.z],null,null),(n()(),u.tb(63,0,null,0,4,"ion-list-header",[["class","dj-application__form__social-media"]],null,null,null,p.eb,p.t)),u.sb(64,49152,null,0,e.P,[u.h,u.k,u.z],null,null),(n()(),u.tb(65,0,null,0,2,"ion-label",[],null,null,null,p.db,p.r)),u.sb(66,49152,null,0,e.N,[u.h,u.k,u.z],null,null),(n()(),u.Nb(-1,0,["Social Media (optional)"])),(n()(),u.ib(16777216,null,0,1,null,_)),u.sb(69,278528,null,0,f.i,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(n()(),u.ib(16777216,null,0,1,null,v)),u.sb(71,16384,null,0,f.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.tb(72,0,null,null,8,"ion-footer",[["class","signup-footer"]],null,null,null,p.Y,p.m)),u.sb(73,49152,null,0,e.z,[u.h,u.k,u.z],null,null),(n()(),u.tb(74,0,null,0,6,"ion-button",[["class","signup-footer__button"],["color","primary"],["expand","full"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.apply()&&u),u},p.P,p.d)),u.sb(75,49152,null,0,e.k,[u.h,u.k,u.z],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"]},null),(n()(),u.Nb(-1,0,[" Apply Now\xa0\xa0 "])),(n()(),u.ib(16777216,null,0,1,null,k)),u.sb(78,16384,null,0,f.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,0,1,null,y)),u.sb(80,16384,null,0,f.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,"primary"),n(l,9,0,"/tabs/home"),n(l,10,0,"/tabs/home"),n(l,21,0,"floating"),n(l,26,0,t.dj.name),n(l,29,0,"","text"),n(l,33,0,"floating"),n(l,38,0,t.dj.subtitle),n(l,41,0,"","text"),n(l,45,0,!t.dj.image),n(l,47,0,t.dj.image),n(l,49,0,"primary"),n(l,54,0,"floating"),n(l,59,0,t.dj.description),n(l,69,0,t.socialMedia),n(l,71,0,t.dj.error),n(l,75,0,"primary",t.dj.loading||!t.dj.name,"full"),n(l,78,0,!t.dj.loading),n(l,80,0,t.dj.loading)},function(n,l){n(l,23,0,u.Fb(l,28).ngClassUntouched,u.Fb(l,28).ngClassTouched,u.Fb(l,28).ngClassPristine,u.Fb(l,28).ngClassDirty,u.Fb(l,28).ngClassValid,u.Fb(l,28).ngClassInvalid,u.Fb(l,28).ngClassPending),n(l,35,0,u.Fb(l,40).ngClassUntouched,u.Fb(l,40).ngClassTouched,u.Fb(l,40).ngClassPristine,u.Fb(l,40).ngClassDirty,u.Fb(l,40).ngClassValid,u.Fb(l,40).ngClassInvalid,u.Fb(l,40).ngClassPending),n(l,56,0,u.Fb(l,61).ngClassUntouched,u.Fb(l,61).ngClassTouched,u.Fb(l,61).ngClassPristine,u.Fb(l,61).ngClassDirty,u.Fb(l,61).ngClassValid,u.Fb(l,61).ngClassInvalid,u.Fb(l,61).ngClassPending)})}function F(n){return u.Pb(0,[(n()(),u.tb(0,0,null,null,1,"app-dj-application",[],null,null,null,P,m)),u.sb(1,114688,null,0,b,[h.n,i.a,o.a,e.Fb,e.a,e.Hb,s.a,e.Ib,r.a],null,null)],function(n,l){n(l,1,0)},null)}var I=u.pb("app-dj-application",b,F,{},{},[]);t.d(l,"DjApplicationPageModuleNgFactory",function(){return D});var D=u.qb(c,[],function(n){return u.Cb([u.Db(512,u.j,u.bb,[[8,[d.a,I]],[3,u.j],u.x]),u.Db(4608,f.l,f.k,[u.u,[2,f.w]]),u.Db(4608,g.l,g.l,[]),u.Db(4608,e.b,e.b,[u.z,u.g]),u.Db(4608,e.Hb,e.Hb,[e.b,u.j,u.q]),u.Db(4608,e.Lb,e.Lb,[e.b,u.j,u.q]),u.Db(1073742336,f.b,f.b,[]),u.Db(1073742336,g.k,g.k,[]),u.Db(1073742336,g.d,g.d,[]),u.Db(1073742336,e.Db,e.Db,[]),u.Db(1073742336,h.q,h.q,[[2,h.v],[2,h.n]]),u.Db(1073742336,c,c,[]),u.Db(1024,h.l,function(){return[[{path:"",component:b}]]},[])])})}}]);