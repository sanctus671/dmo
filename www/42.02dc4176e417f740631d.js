(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{CKTy:function(n,l,t){"use strict";t.r(l);var o=t("CcnG"),e=t("gcxx"),u=t("4R65"),i=function(){function n(n,l,t){this.eventService=n,this.router=l,this.ngZone=t,this.markerIcon=Object(u.icon)({iconUrl:"assets/marker.png",iconSize:[26,32],iconAnchor:[10,32]}),this.events=[],this.loading=!0,this.getEvents()}return n.prototype.ngOnInit=function(){this.options={layers:[Object(u.tileLayer)("https://tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=8be37a51847b4efe9b8089bbad4f22dc",{maxZoom:18,attribution:""})],zoom:5,center:Object(u.latLng)(-40.77653244822433,172.7488392217997)}},n.prototype.getEvents=function(){var n=this;this.loading=!0,this.eventService.getEvents("").then(function(l){n.events=l,n.markerLayers=[];for(var t=function(l){console.log(l),l.latitude&&l.longitude&&n.markerLayers.push(Object(u.marker)([l.latitude,l.longitude],{icon:n.markerIcon,riseOnHover:!0}).on("click",function(){n.ngZone.run(function(){n.router.navigate(["event/"+l.id])})}))},o=0,e=n.events;o<e.length;o++)t(e[o]);console.log(n.markerLayers),n.loading=!1}).catch(function(){n.loading=!1})},n.prototype.onMapReady=function(n){setTimeout(function(){n.invalidateSize(),n.zoomControl.setPosition("bottomright")},0)},n}(),a=function(){return function(){}}(),c=t("pMnS"),r=t("oBZk"),s=t("ZZ/e"),b=t("2lPn"),p=t("lDAE"),f=t("Ip0R"),g=t("ZYCi"),d=o.rb({encapsulation:0,styles:[[".location[_ngcontent-%COMP%]   .location__loading[_ngcontent-%COMP%]{text-align:center;margin-top:150px}.location[_ngcontent-%COMP%]   .location__map[_ngcontent-%COMP%]{height:100%;width:100%;margin-top:-20px;position:relative}.location[_ngcontent-%COMP%]   .location__map[_ngcontent-%COMP%]   .location__map__leaflet[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:110%}"]],data:{}});function m(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,2,"div",[["class","location__loading"]],null,null,null,null,null)),(n()(),o.tb(1,0,null,null,1,"ion-spinner",[],null,null,null,r.tb,r.F)),o.sb(2,49152,null,0,s.rb,[o.h,o.k,o.z],null,null)],null,null)}function h(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,1,"div",[],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.clicked()&&o),o},null,null)),o.sb(1,737280,null,0,b.a,[p.a,o.z],{layer:[0,"layer"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function v(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,4,"div",[["class","location__map"]],null,null,null,null,null)),(n()(),o.tb(1,0,null,null,3,"div",[["class","location__map__leaflet"],["leaflet",""]],null,[[null,"leafletMapReady"],["window","resize"]],function(n,l,t){var e=!0,u=n.component;return"window:resize"===l&&(e=!1!==o.Fb(n,2).onResize()&&e),"leafletMapReady"===l&&(e=!1!==u.onMapReady(t)&&e),e},null,null)),o.sb(2,606208,null,0,p.a,[o.k,o.z],{options:[0,"options"]},{mapReady:"leafletMapReady"}),(n()(),o.ib(16777216,null,null,1,null,h)),o.sb(4,278528,null,0,f.i,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.options),n(l,4,0,t.markerLayers)},null)}function _(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,5,"ion-content",[["class","location"],["fullscreen","true"]],null,null,null,r.Y,r.k)),o.sb(1,49152,null,0,s.u,[o.h,o.k,o.z],{fullscreen:[0,"fullscreen"]},null),(n()(),o.ib(16777216,null,0,1,null,m)),o.sb(3,16384,null,0,f.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.ib(16777216,null,0,1,null,v)),o.sb(5,16384,null,0,f.j,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,1,0,"true"),n(l,3,0,t.loading),n(l,5,0,!t.loading)},null)}function k(n){return o.Pb(0,[(n()(),o.tb(0,0,null,null,1,"app-location",[],null,null,null,_,d)),o.sb(1,114688,null,0,i,[e.a,g.n,o.z],null,null)],function(n,l){n(l,1,0)},null)}var y=o.pb("app-location",i,k,{},{},[]),O=t("gIcY"),D=t("foBm");t.d(l,"LocationPageModuleNgFactory",function(){return P});var P=o.qb(a,[],function(n){return o.Cb([o.Db(512,o.j,o.bb,[[8,[c.a,y]],[3,o.j],o.x]),o.Db(4608,f.l,f.k,[o.u,[2,f.w]]),o.Db(4608,O.l,O.l,[]),o.Db(4608,s.b,s.b,[o.z,o.g]),o.Db(4608,s.Hb,s.Hb,[s.b,o.j,o.q]),o.Db(4608,s.Lb,s.Lb,[s.b,o.j,o.q]),o.Db(1073742336,f.b,f.b,[]),o.Db(1073742336,O.k,O.k,[]),o.Db(1073742336,O.d,O.d,[]),o.Db(1073742336,s.Db,s.Db,[]),o.Db(1073742336,g.q,g.q,[[2,g.v],[2,g.n]]),o.Db(1073742336,D.a,D.a,[]),o.Db(1073742336,a,a,[]),o.Db(1024,g.l,function(){return[[{path:"",component:i}]]},[])])})}}]);