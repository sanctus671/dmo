(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{ZnpP:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),u=t("ZZ/e"),i=t("ri4K"),o=t("agnC"),r=t("wd/R"),a=function(){function n(n,l,t,e,u,i,o,r){var a=this;this.router=n,this.loadingController=l,this.alertController=t,this.modalController=e,this.ticketService=u,this.navController=i,this.authenticationService=o,this.route=r,this.ticket={},this.route.queryParams.subscribe(function(n){n&&n.id&&(a.ticket.event_id=JSON.parse(n.id))}),this.authenticationService.getUserData().subscribe(function(n){n.venue&&(a.ticket.venue_id=n.venue.id)})}return n.prototype.ngOnInit=function(){},n.prototype.create=function(){var n=this;this.ticket.loading=!0,this.ticket.start_date=this.ticket.start_date?r(this.ticket.start_date).format("YYYY-MM-DD HH:mm"):null,this.ticket.end_date=this.ticket.end_date?r(this.ticket.end_date).format("YYYY-MM-DD HH:mm"):null,this.ticketService.createTicket(this.ticket).then(function(l){console.log(l),n.ticket.loading=!1,n.alertController.create({header:"Ticket Added!",message:"Your ticket has been created and will now be visible by other users of the app.",buttons:[{text:"OK",role:"cancel"}]}).then(function(n){n.present()})}).catch(function(l){n.ticket.loading=!1,n.alertController.create({header:"Error",subHeader:"There was a problem adding your ticket.",message:JSON.stringify(l),buttons:[{text:"Dismiss",role:"cancel"}]}).then(function(n){n.present()})})},n}(),s=function(){return function(){}}(),c=t("pMnS"),b=t("oBZk"),g=t("gIcY"),d=t("Ip0R"),p=t("ZYCi"),h=e.rb({encapsulation:0,styles:[[".ticket-footer[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function f(n){return e.Pb(0,[(n()(),e.tb(0,0,null,null,1,"p",[["class","signup__form__error"]],null,null,null,null,null)),(n()(),e.Nb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.ticket.error)})}function k(n){return e.Pb(0,[(n()(),e.tb(0,0,null,null,1,"ion-icon",[["name","arrow-forward"]],null,null,null,b.hb,b.r)),e.sb(1,49152,null,0,u.C,[e.h,e.k,e.z],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"arrow-forward")},null)}function m(n){return e.Pb(0,[(n()(),e.tb(0,0,null,null,1,"ion-spinner",[],null,null,null,b.xb,b.H)),e.sb(1,49152,null,0,u.rb,[e.h,e.k,e.z],null,null)],null,null)}function C(n){return e.Pb(0,[(n()(),e.tb(0,0,null,null,13,"ion-header",[],null,null,null,b.gb,b.q)),e.sb(1,49152,null,0,u.B,[e.h,e.k,e.z],null,null),(n()(),e.tb(2,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,b.Fb,b.P)),e.sb(3,49152,null,0,u.Bb,[e.h,e.k,e.z],{color:[0,"color"]},null),(n()(),e.tb(4,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,b.U,b.e)),e.sb(5,49152,null,0,u.l,[e.h,e.k,e.z],null,null),(n()(),e.tb(6,0,null,0,4,"ion-button",[],null,null,null,b.T,b.d)),e.sb(7,49152,null,0,u.k,[e.h,e.k,e.z],null,null),(n()(),e.tb(8,0,null,0,2,"ion-back-button",[["defaultHref","/tabs/home"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Fb(n,10).onClick(t)&&u),u},b.S,b.c)),e.sb(9,49152,null,0,u.g,[e.h,e.k,e.z],{defaultHref:[0,"defaultHref"]},null),e.sb(10,16384,null,0,u.h,[[2,u.hb],u.Ib],{defaultHref:[0,"defaultHref"]},null),(n()(),e.tb(11,0,null,0,2,"ion-title",[],null,null,null,b.Db,b.N)),e.sb(12,49152,null,0,u.zb,[e.h,e.k,e.z],null,null),(n()(),e.Nb(-1,0,["Add Ticket"])),(n()(),e.tb(14,0,null,null,77,"ion-content",[["class","create-ticket"]],null,null,null,b.ab,b.k)),e.sb(15,49152,null,0,u.u,[e.h,e.k,e.z],null,null),(n()(),e.tb(16,0,null,0,75,"ion-list",[["class","create-ticket__form"]],null,null,null,b.mb,b.v)),e.sb(17,49152,null,0,u.O,[e.h,e.k,e.z],null,null),(n()(),e.tb(18,0,null,0,11,"ion-item",[],null,null,null,b.jb,b.t)),e.sb(19,49152,null,0,u.H,[e.h,e.k,e.z],null,null),(n()(),e.tb(20,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,b.kb,b.u)),e.sb(21,49152,null,0,u.N,[e.h,e.k,e.z],{position:[0,"position"]},null),(n()(),e.Nb(-1,0,["Ticket Name (e.g. Tier 1)"])),(n()(),e.tb(23,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var u=!0,i=n.component;return"ionBlur"===l&&(u=!1!==e.Fb(n,24)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==e.Fb(n,24)._handleInputEvent(t.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.ticket.name=t)&&u),u},b.ib,b.s)),e.sb(24,16384,null,0,u.Pb,[e.k],null,null),e.Kb(1024,null,g.e,function(n){return[n]},[u.Pb]),e.sb(26,671744,null,0,g.j,[[8,null],[8,null],[8,null],[6,g.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Kb(2048,null,g.f,null,[g.j]),e.sb(28,16384,null,0,g.g,[[4,g.f]],null,null),e.sb(29,49152,null,0,u.G,[e.h,e.k,e.z],{clearInput:[0,"clearInput"],type:[1,"type"]},null),(n()(),e.tb(30,0,null,0,11,"ion-item",[],null,null,null,b.jb,b.t)),e.sb(31,49152,null,0,u.H,[e.h,e.k,e.z],null,null),(n()(),e.tb(32,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,b.kb,b.u)),e.sb(33,49152,null,0,u.N,[e.h,e.k,e.z],{position:[0,"position"]},null),(n()(),e.Nb(-1,0,["Price"])),(n()(),e.tb(35,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var u=!0,i=n.component;return"ionBlur"===l&&(u=!1!==e.Fb(n,36)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==e.Fb(n,36)._handleInputEvent(t.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.ticket.price=t)&&u),u},b.ib,b.s)),e.sb(36,16384,null,0,u.Pb,[e.k],null,null),e.Kb(1024,null,g.e,function(n){return[n]},[u.Pb]),e.sb(38,671744,null,0,g.j,[[8,null],[8,null],[8,null],[6,g.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Kb(2048,null,g.f,null,[g.j]),e.sb(40,16384,null,0,g.g,[[4,g.f]],null,null),e.sb(41,49152,null,0,u.G,[e.h,e.k,e.z],{clearInput:[0,"clearInput"],type:[1,"type"]},null),(n()(),e.tb(42,0,null,0,11,"ion-item",[],null,null,null,b.jb,b.t)),e.sb(43,49152,null,0,u.H,[e.h,e.k,e.z],null,null),(n()(),e.tb(44,0,null,0,2,"ion-label",[],null,null,null,b.kb,b.u)),e.sb(45,49152,null,0,u.N,[e.h,e.k,e.z],null,null),(n()(),e.Nb(-1,0,["Start Date (optional)"])),(n()(),e.tb(47,0,null,0,6,"ion-datetime",[["displayFormat","DD/MM/YYYY HH:mm"],["placeholder","Select Date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var u=!0,i=n.component;return"ionBlur"===l&&(u=!1!==e.Fb(n,48)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==e.Fb(n,48)._handleChangeEvent(t.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.ticket.start_date=t)&&u),u},b.bb,b.l)),e.sb(48,16384,null,0,u.Ob,[e.k],null,null),e.Kb(1024,null,g.e,function(n){return[n]},[u.Ob]),e.sb(50,671744,null,0,g.j,[[8,null],[8,null],[8,null],[6,g.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Kb(2048,null,g.f,null,[g.j]),e.sb(52,16384,null,0,g.g,[[4,g.f]],null,null),e.sb(53,49152,null,0,u.v,[e.h,e.k,e.z],{displayFormat:[0,"displayFormat"],max:[1,"max"],placeholder:[2,"placeholder"]},null),(n()(),e.tb(54,0,null,0,11,"ion-item",[],null,null,null,b.jb,b.t)),e.sb(55,49152,null,0,u.H,[e.h,e.k,e.z],null,null),(n()(),e.tb(56,0,null,0,2,"ion-label",[],null,null,null,b.kb,b.u)),e.sb(57,49152,null,0,u.N,[e.h,e.k,e.z],null,null),(n()(),e.Nb(-1,0,["End Date (optional)"])),(n()(),e.tb(59,0,null,0,6,"ion-datetime",[["displayFormat","DD/MM/YYYY HH:mm"],["placeholder","Select Date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var u=!0,i=n.component;return"ionBlur"===l&&(u=!1!==e.Fb(n,60)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==e.Fb(n,60)._handleChangeEvent(t.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.ticket.end_date=t)&&u),u},b.bb,b.l)),e.sb(60,16384,null,0,u.Ob,[e.k],null,null),e.Kb(1024,null,g.e,function(n){return[n]},[u.Ob]),e.sb(62,671744,null,0,g.j,[[8,null],[8,null],[8,null],[6,g.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Kb(2048,null,g.f,null,[g.j]),e.sb(64,16384,null,0,g.g,[[4,g.f]],null,null),e.sb(65,49152,null,0,u.v,[e.h,e.k,e.z],{displayFormat:[0,"displayFormat"],min:[1,"min"],placeholder:[2,"placeholder"]},null),(n()(),e.tb(66,0,null,0,11,"ion-item",[],null,null,null,b.jb,b.t)),e.sb(67,49152,null,0,u.H,[e.h,e.k,e.z],null,null),(n()(),e.tb(68,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,b.kb,b.u)),e.sb(69,49152,null,0,u.N,[e.h,e.k,e.z],{position:[0,"position"]},null),(n()(),e.Nb(-1,0,["Number of Tickets (optional)"])),(n()(),e.tb(71,0,null,0,6,"ion-input",[["clearInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var u=!0,i=n.component;return"ionBlur"===l&&(u=!1!==e.Fb(n,72)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==e.Fb(n,72)._handleInputEvent(t.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.ticket.total_tickets=t)&&u),u},b.ib,b.s)),e.sb(72,16384,null,0,u.Pb,[e.k],null,null),e.Kb(1024,null,g.e,function(n){return[n]},[u.Pb]),e.sb(74,671744,null,0,g.j,[[8,null],[8,null],[8,null],[6,g.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Kb(2048,null,g.f,null,[g.j]),e.sb(76,16384,null,0,g.g,[[4,g.f]],null,null),e.sb(77,49152,null,0,u.G,[e.h,e.k,e.z],{clearInput:[0,"clearInput"],type:[1,"type"]},null),(n()(),e.tb(78,0,null,0,11,"ion-item",[],null,null,null,b.jb,b.t)),e.sb(79,49152,null,0,u.H,[e.h,e.k,e.z],null,null),(n()(),e.tb(80,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,b.kb,b.u)),e.sb(81,49152,null,0,u.N,[e.h,e.k,e.z],{position:[0,"position"]},null),(n()(),e.Nb(-1,0,["Description"])),(n()(),e.tb(83,0,null,0,6,"ion-textarea",[["autosize",""],["clearInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var u=!0,i=n.component;return"ionBlur"===l&&(u=!1!==e.Fb(n,84)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==e.Fb(n,84)._handleInputEvent(t.target.value)&&u),"ngModelChange"===l&&(u=!1!==(i.ticket.description=t)&&u),u},b.Cb,b.M)),e.sb(84,16384,null,0,u.Pb,[e.k],null,null),e.Kb(1024,null,g.e,function(n){return[n]},[u.Pb]),e.sb(86,671744,null,0,g.j,[[8,null],[8,null],[8,null],[6,g.e]],{model:[0,"model"]},{update:"ngModelChange"}),e.Kb(2048,null,g.f,null,[g.j]),e.sb(88,16384,null,0,g.g,[[4,g.f]],null,null),e.sb(89,49152,null,0,u.xb,[e.h,e.k,e.z],null,null),(n()(),e.ib(16777216,null,0,1,null,f)),e.sb(91,16384,null,0,d.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.tb(92,0,null,null,8,"ion-footer",[["class","ticket-footer"]],null,null,null,b.fb,b.p)),e.sb(93,49152,null,0,u.z,[e.h,e.k,e.z],null,null),(n()(),e.tb(94,0,null,0,6,"ion-button",[["class","ticket-footer__button"],["color","primary"],["shape","round"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.create()&&e),e},b.T,b.d)),e.sb(95,49152,null,0,u.k,[e.h,e.k,e.z],{color:[0,"color"],disabled:[1,"disabled"],shape:[2,"shape"]},null),(n()(),e.Nb(-1,0,[" Add Ticket\xa0\xa0 "])),(n()(),e.ib(16777216,null,0,1,null,k)),e.sb(98,16384,null,0,d.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,0,1,null,m)),e.sb(100,16384,null,0,d.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,"primary"),n(l,9,0,"/tabs/home"),n(l,10,0,"/tabs/home"),n(l,21,0,"floating"),n(l,26,0,t.ticket.name),n(l,29,0,"","text"),n(l,33,0,"floating"),n(l,38,0,t.ticket.price),n(l,41,0,"","text"),n(l,50,0,t.ticket.start_date),n(l,53,0,"DD/MM/YYYY HH:mm",t.ticket.end_date,"Select Date"),n(l,62,0,t.ticket.end_date),n(l,65,0,"DD/MM/YYYY HH:mm",t.ticket.start_date,"Select Date"),n(l,69,0,"floating"),n(l,74,0,t.ticket.total_tickets),n(l,77,0,"","text"),n(l,81,0,"floating"),n(l,86,0,t.ticket.description),n(l,91,0,t.ticket.error),n(l,95,0,"primary",t.ticket.loading||!t.ticket.name||!t.ticket.price,"round"),n(l,98,0,!t.ticket.loading),n(l,100,0,t.ticket.loading)},function(n,l){n(l,23,0,e.Fb(l,28).ngClassUntouched,e.Fb(l,28).ngClassTouched,e.Fb(l,28).ngClassPristine,e.Fb(l,28).ngClassDirty,e.Fb(l,28).ngClassValid,e.Fb(l,28).ngClassInvalid,e.Fb(l,28).ngClassPending),n(l,35,0,e.Fb(l,40).ngClassUntouched,e.Fb(l,40).ngClassTouched,e.Fb(l,40).ngClassPristine,e.Fb(l,40).ngClassDirty,e.Fb(l,40).ngClassValid,e.Fb(l,40).ngClassInvalid,e.Fb(l,40).ngClassPending),n(l,47,0,e.Fb(l,52).ngClassUntouched,e.Fb(l,52).ngClassTouched,e.Fb(l,52).ngClassPristine,e.Fb(l,52).ngClassDirty,e.Fb(l,52).ngClassValid,e.Fb(l,52).ngClassInvalid,e.Fb(l,52).ngClassPending),n(l,59,0,e.Fb(l,64).ngClassUntouched,e.Fb(l,64).ngClassTouched,e.Fb(l,64).ngClassPristine,e.Fb(l,64).ngClassDirty,e.Fb(l,64).ngClassValid,e.Fb(l,64).ngClassInvalid,e.Fb(l,64).ngClassPending),n(l,71,0,e.Fb(l,76).ngClassUntouched,e.Fb(l,76).ngClassTouched,e.Fb(l,76).ngClassPristine,e.Fb(l,76).ngClassDirty,e.Fb(l,76).ngClassValid,e.Fb(l,76).ngClassInvalid,e.Fb(l,76).ngClassPending),n(l,83,0,e.Fb(l,88).ngClassUntouched,e.Fb(l,88).ngClassTouched,e.Fb(l,88).ngClassPristine,e.Fb(l,88).ngClassDirty,e.Fb(l,88).ngClassValid,e.Fb(l,88).ngClassInvalid,e.Fb(l,88).ngClassPending)})}function v(n){return e.Pb(0,[(n()(),e.tb(0,0,null,null,1,"app-add-ticket",[],null,null,null,C,h)),e.sb(1,114688,null,0,a,[p.n,u.Fb,u.a,u.Hb,o.a,u.Ib,i.a,p.a],null,null)],function(n,l){n(l,1,0)},null)}var F=e.pb("app-add-ticket",a,v,{},{},[]);t.d(l,"AddTicketPageModuleNgFactory",function(){return _});var _=e.qb(s,[],function(n){return e.Cb([e.Db(512,e.j,e.bb,[[8,[c.a,F]],[3,e.j],e.x]),e.Db(4608,d.m,d.l,[e.u,[2,d.x]]),e.Db(4608,g.l,g.l,[]),e.Db(4608,u.b,u.b,[e.z,e.g]),e.Db(4608,u.Hb,u.Hb,[u.b,e.j,e.q]),e.Db(4608,u.Lb,u.Lb,[u.b,e.j,e.q]),e.Db(1073742336,d.b,d.b,[]),e.Db(1073742336,g.k,g.k,[]),e.Db(1073742336,g.d,g.d,[]),e.Db(1073742336,u.Db,u.Db,[]),e.Db(1073742336,p.q,p.q,[[2,p.v],[2,p.n]]),e.Db(1073742336,s,s,[]),e.Db(1024,p.l,function(){return[[{path:"",component:a}]]},[])])})},agnC:function(n,l,t){"use strict";t.d(l,"a",function(){return r});var e=t("AytR"),u=t("CcnG"),i=t("t/Na"),o=t("iw74"),r=function(){function n(n,l){this.http=n,this.storage=l}return n.prototype.getTickets=function(){var n=this;return new Promise(function(l,t){n.storage.get("dmo_token").then(function(u){u?n.http.get(e.a.apiUrl+"/tickets?token="+u).subscribe(function(n){l(n)},function(n){t(n)}):t()})})},n.prototype.getAllTickets=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.get(e.a.apiUrl+"/alltickets?token="+i+"&search="+n).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.getTicket=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.get(e.a.apiUrl+"/tickets/"+n+"?token="+i).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.createTicket=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.post(e.a.apiUrl+"/tickets?token="+i,n).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.updateTicket=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.put(e.a.apiUrl+"/tickets/"+n.id+"?token="+i,n).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.deleteTicket=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.delete(e.a.apiUrl+"/tickets/"+n+"?token="+i).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.resellTicket=function(n,l){var t=this;return new Promise(function(u,i){t.storage.get("dmo_token").then(function(o){o?t.http.post(e.a.apiUrl+"/resellticket?token="+o,{id:n,price:l}).subscribe(function(n){u(n)},function(n){i(n)}):i()})})},n.prototype.cancelResellTicket=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.post(e.a.apiUrl+"/cancelresellticket?token="+i,{id:n}).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.giftTicket=function(n,l){var t=this;return new Promise(function(u,i){t.storage.get("dmo_token").then(function(o){o?t.http.post(e.a.apiUrl+"/giftticket?token="+o,{id:n,email:l}).subscribe(function(n){u(n)},function(n){i(n)}):i()})})},n.prototype.getPayments=function(){var n=this;return new Promise(function(l,t){n.storage.get("dmo_token").then(function(u){u?n.http.get(e.a.apiUrl+"/getpayments?token="+u).subscribe(function(n){l(n)},function(n){t(n)}):t()})})},n.prototype.markAsPaid=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.post(e.a.apiUrl+"/markpaid?token="+i,{user_id:n}).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.markAllAsPaid=function(){var n=this;return new Promise(function(l,t){n.storage.get("dmo_token").then(function(u){u?n.http.post(e.a.apiUrl+"/markallpaid?token="+u,{}).subscribe(function(n){l(n)},function(n){t(n)}):t()})})},n.prototype.getBankFile=function(){var n=this;return new Promise(function(l,t){n.storage.get("dmo_token").then(function(u){u?n.http.post(e.a.apiUrl+"/getbankfile?token="+u,{}).subscribe(function(n){l(n)},function(n){t(n)}):t()})})},n.prototype.getScanners=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.get(e.a.apiUrl+"/scanners?token="+i+"&event_id="+n).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.createScanner=function(n,l,t){var u=this;return new Promise(function(i,o){u.storage.get("dmo_token").then(function(r){r?u.http.post(e.a.apiUrl+"/scanners?token="+r,{email:n,event_id:l,venue_user:t}).subscribe(function(n){i(n)},function(n){o(n)}):o()})})},n.prototype.deleteScanner=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.delete(e.a.apiUrl+"/scanners?token="+i+"&id="+n).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.redeemTicket=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.post(e.a.apiUrl+"/redeemticket?token="+i,{ticket_id:n}).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.findTickets=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.get(e.a.apiUrl+"/findtickets?token="+i+"&search="+n).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.purchaseTicket=function(n){var l=this;return new Promise(function(t,u){l.storage.get("dmo_token").then(function(i){i?l.http.post(e.a.apiUrl+"/purchaseticket?token="+i,n).subscribe(function(n){t(n)},function(n){u(n)}):u()})})},n.prototype.getDataForQrCode=function(n,l){var t=this;return new Promise(function(u,i){t.storage.get("dmo_token").then(function(o){o?t.http.get(e.a.apiUrl+"/ticketqrcode?token="+o+"&user_id="+n+"&ticket_id="+l).subscribe(function(n){u(n)},function(n){i(n)}):i()})})},n.ngInjectableDef=u.Sb({factory:function(){return new n(u.Tb(i.c),u.Tb(o.b))},token:n,providedIn:"root"}),n}()}}]);